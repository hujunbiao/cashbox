(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7911ca39"],{2477:function(t,e,s){s("a29f")},7597:function(t,e,s){s("a29f"),s("0607"),s("949e"),s("857f")},7689:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"business_page",style:{height:t.bodyHeight+"px"}},[s("div",{staticClass:"operation_title_group"},[s("span",{staticClass:"operation_tip"},[t._v(t._s(t.$t("businessStepOne")))])]),s("div",{staticClass:"operation_type_group"},[s("van-radio-group",{staticClass:"radio_group_cls",model:{value:t.radioAuthBtnValue,callback:function(e){t.radioAuthBtnValue=e},expression:"radioAuthBtnValue"}},[s("van-radio",{staticStyle:{float:"left","margin-left":"10%"},attrs:{name:t.AddBusiness}},[t._v(t._s(t.$t("addBusiness"))+" ")]),s("van-radio",{staticStyle:{float:"left","margin-left":"10%","margin-top":"0.5%"},attrs:{name:t.DeleteBusiness}},[t._v(t._s(t.$t("deleteBusiness"))+" ")])],1)],1),s("div",{staticClass:"business_step2_group"},[s("span",{staticClass:"business_step2_title"},[t._v(t._s(t.$t("businessStepTwo")))])]),s("div",{staticClass:"business_step2_content"},[s("div",{staticClass:"input_add_name_group"},[s("van-cell-group",[s("van-field",{attrs:{label:t.$t("username"),maxlength:"12",clearable:"",placeholder:t.$t("inputUsername")},model:{value:t.inputName,callback:function(e){t.inputName=e},expression:"inputName"}})],1),s("van-cell-group",[s("van-field",{attrs:{label:t.$t("address"),clearable:"","right-icon":t.addressRightIcon,placeholder:t.$t("inputAddress")},on:{"click-right-icon":t.scanOrChooseAddress},model:{value:t.inputAddress,callback:function(e){t.inputAddress=e},expression:"inputAddress"}})],1)],1),s("div",{directives:[{name:"show",rawName:"v-show",value:this.radioAuthBtnValue===this.AddBusiness,expression:"this.radioAuthBtnValue === this.AddBusiness"}],staticClass:"setting_time_group"},[s("van-cell-group",[s("van-field",{attrs:{label:t.$t("authCount"),type:"number",id:"setting_time_group"},model:{value:t.countTime,callback:function(e){t.countTime=e},expression:"countTime"}})],1)],1)]),s("div",{staticClass:"address_popup_group"},[s("van-popup",{staticClass:"popup_window_group",model:{value:t.isShowAddressPopup,callback:function(e){t.isShowAddressPopup=e},expression:"isShowAddressPopup"}},[s("van-picker",{staticClass:"addPicker",attrs:{"show-toolbar":"",columns:t.addressList,"default-index":t.addressList.length/2},on:{cancel:function(e){t.isShowAddressPopup=!1},confirm:t.confirmPickerAddress}})],1)],1),s("van-divider",{staticClass:"divider_line"}),s("div",{staticClass:"auth_btn_group"},[s("van-button",{staticClass:"business_confirm_btn",attrs:{plain:"",type:"info"},on:{click:t.clickNextStep}},[t._v(t._s(t.$t("nextStep")))])],1),s("van-overlay",{attrs:{show:t.isLoadingAccount}},[s("van-loading",{staticClass:"loading_component",attrs:{type:"spinner",vertical:""}},[t._v(t._s(t.$t("dataLoading")))])],1)],1)},n=[],a=(s("4160"),s("c975"),s("b0c0"),s("d3b7"),s("25f0"),s("159b"),s("96cf"),s("c964")),r=s("276c"),o=s("e954"),u=s("e1a7"),d=s("f20d"),c=s("920b"),l=s("9ab4"),h=s("60a3"),p=s("e27c"),b=s("9f14"),f=s("b650"),v=s("9ed2"),g=s("6e47"),m=s("543e"),A=s("106a"),_=s("8402"),S=(s("2477"),s("7597"),s("0147"),s("c2d8"),s("eeb2"),s("e815"),s("b657"),s("ef88")),k=s("7c42"),y=s("5487"),C=s("ac6d"),w=s("bb62");h["c"].use(p["a"]).use(b["a"]).use(f["a"]).use(v["a"]).use(f["a"]).use(g["a"]).use(m["a"]);var x=function(t){function e(){var t;return Object(r["a"])(this,e),t=Object(u["a"])(this,Object(d["a"])(e).apply(this,arguments)),t.inputName="",t.inputAddress="",t.countTime=1e3,t.AddBusiness=S["a"].Auth,t.DeleteBusiness=S["a"].Delete,t.radioAuthBtnValue=t.AddBusiness,t.bodyHeight=0,t.businessModel=new S["b"],t.authAddress="",t.addressRightIcon=w["a"].ICON_ARROW_DOWN,t.isShowAddressPopup=!1,t.addressList=Array(),t.SeparateSymbol=";",t.isLoadingAccount=!0,t}return Object(c["a"])(e,t),Object(o["a"])(e,[{key:"created",value:function(){this.$store.state.title=this.$t("businessAuthorize"),window.nativeQrScanToJsResult=this.nativeQrScanToJsResult}},{key:"mounted",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,s=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.bodyHeight=93*document.documentElement.clientHeight/100,null!==w["a"].loadContractAddress()&&""!==w["a"].loadContractAddress()){t.next=5;break}return k["a"].show(this.$t("contractAddressIsNull").toString()),this.isLoadingAccount=!1,t.abrupt("return");case 5:return this.isLoadingAccount=!0,this.authAddress=this.$store.state.nativeChainAddress,t.prev=7,t.next=10,y["b"].getInstance().loadBusinessList(this.$store.state.nativeChainAddress);case 10:e=t.sent,this.isLoadingAccount=!1,e.forEach((function(t){s.addressList.push(t.name+s.SeparateSymbol+t.address)})),t.next=19;break;case 15:t.prev=15,t.t0=t["catch"](7),this.isLoadingAccount=!1,k["a"].fail(this.$t("plsCheckCaInfo").toString());case 19:case"end":return t.stop()}}),t,this,[[7,15]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"onChangeAuthType",value:function(t){t===this.AddBusiness?(this.businessModel.authType=S["a"].Auth,this.addressRightIcon=w["a"].ICON_SCAN):t===this.DeleteBusiness?(this.businessModel.authType=S["a"].Delete,this.addressRightIcon=w["a"].ICON_ARROW_DOWN):(k["a"].show(this.$t("operateTypeIsError").toString()),this.businessModel.authType=S["a"].Auth)}},{key:"scanOrChooseAddress",value:function(){this.radioAuthBtnValue===this.AddBusiness?_["a"].getInstance().callNativeQrScanToJs():this.isShowAddressPopup=!0}},{key:"confirmPickerAddress",value:function(t){if(this.isShowAddressPopup=!1,t){var e=t.indexOf(this.SeparateSymbol);this.inputName=t.substring(0,e),this.inputAddress=t.substring(e+1,t.length)}}},{key:"scanToSignedQr",value:function(){_["a"].getInstance().callNativeQrScanToJs()}},{key:"nativeQrScanToJsResult",value:function(t){if(-1===t.indexOf(";"))return this.inputAddress=t,void k["a"].show(this.$t("qrInfoRegistered").toString())}},{key:"clickNextStep",value:function(){Object(C["a"])(this.inputAddress)?this.radioAuthBtnValue===this.AddBusiness&&this.countTime<=0?k["a"].show(this.$t("verifyAuthCount").toString()):(this.businessModel.authAddress=this.authAddress,this.businessModel.maxCount=this.countTime,this.businessModel.name=this.inputName,this.businessModel.address=this.inputAddress,this.$store.commit("updateNowBusiness",this.businessModel),this.$router.push({name:"business_confirm"})):k["a"].show(this.$t("verifyAddressError").toString())}}]),e}(h["c"]);Object(l["a"])([Object(h["d"])("radioAuthBtnValue",{immediate:!0,deep:!0})],x.prototype,"onChangeAuthType",null),x=Object(l["a"])([Object(h["a"])({components:{ScanSign:A["a"]}})],x);var O=x,$=O,B=(s("f852"),s("2877")),N=Object(B["a"])($,i,n,!1,null,null,null);e["default"]=N.exports},"857f":function(t,e,s){},9645:function(t,e,s){},9884:function(t,e,s){"use strict";s.d(e,"a",(function(){return a})),s.d(e,"b",(function(){return r}));var i=s("2b0e");function n(t){var e=[];function s(t){t.forEach((function(t){e.push(t),t.children&&s(t.children)}))}return s(t),e}function a(t,e){var s,a;void 0===e&&(e={});var r=e.indexKey||"index";return i["a"].extend({inject:(s={},s[t]={default:null},s),computed:(a={parent:function(){return this.disableBindRelation?null:this[t]}},a[r]=function(){return this.bindRelation(),this.parent.children.indexOf(this)},a),mounted:function(){this.bindRelation()},beforeDestroy:function(){var t=this;this.parent&&(this.parent.children=this.parent.children.filter((function(e){return e!==t})))},methods:{bindRelation:function(){if(this.parent&&-1===this.parent.children.indexOf(this)){var t=[].concat(this.parent.children,[this]),e=n(this.parent.slots());t.sort((function(t,s){return e.indexOf(t.$vnode)-e.indexOf(s.$vnode)})),this.parent.children=t}}}})}function r(t){return{provide:function(){var e;return e={},e[t]=this,e},data:function(){return{children:[]}}}}},"9f14":function(t,e,s){"use strict";var i=s("d282"),n=s("ad06"),a=s("9884"),r=s("ea8e"),o=function(t){var e=t.parent,s=t.bem,i=t.role;return{mixins:[Object(a["a"])(e)],props:{name:null,value:null,disabled:Boolean,iconSize:[Number,String],checkedColor:String,labelPosition:String,labelDisabled:Boolean,shape:{type:String,default:"round"},bindGroup:{type:Boolean,default:!0}},computed:{disableBindRelation:function(){return!this.bindGroup},isDisabled:function(){return this.parent&&this.parent.disabled||this.disabled},iconStyle:function(){var t=this.checkedColor||this.parent&&this.parent.checkedColor;if(t&&this.checked&&!this.isDisabled)return{borderColor:t,backgroundColor:t}},tabindex:function(){return this.isDisabled||"radio"===i&&!this.checked?-1:0}},methods:{onClick:function(t){var e=t.target,s=this.$refs.icon,i=s===e||s.contains(e);this.isDisabled||!i&&this.labelDisabled||this.toggle(),this.$emit("click",t)},genIcon:function(){var t=this.$createElement,e=this.checked,i=this.iconSize||this.parent&&this.parent.iconSize;return t("div",{ref:"icon",class:s("icon",[this.shape,{disabled:this.isDisabled,checked:e}]),style:{fontSize:Object(r["a"])(i)}},[this.slots("icon",{checked:e})||t(n["a"],{attrs:{name:"success"},style:this.iconStyle})])},genLabel:function(){var t=this.$createElement,e=this.slots();if(e)return t("span",{class:s("label",[this.labelPosition,{disabled:this.isDisabled}])},[e])}},render:function(){var t=arguments[0],e=[this.genIcon()];return"left"===this.labelPosition?e.unshift(this.genLabel()):e.push(this.genLabel()),t("div",{attrs:{role:i,tabindex:this.tabindex,"aria-checked":String(this.checked)},class:s({disabled:this.isDisabled,"label-disabled":this.labelDisabled}),on:{click:this.onClick}},[e])}}},u=Object(i["a"])("radio"),d=u[0],c=u[1];e["a"]=d({mixins:[o({bem:c,role:"radio",parent:"vanRadio"})],computed:{currentValue:{get:function(){return this.parent?this.parent.value:this.value},set:function(t){(this.parent||this).$emit("input",t)}},checked:function(){return this.currentValue===this.name}},methods:{toggle:function(){this.currentValue=this.name}}})},e27c:function(t,e,s){"use strict";var i=s("d282"),n=s("9884"),a=Object(i["a"])("radio-group"),r=a[0],o=a[1];e["a"]=r({mixins:[Object(n["b"])("vanRadio")],props:{value:null,disabled:Boolean,checkedColor:String,iconSize:[Number,String]},watch:{value:function(t){this.$emit("change",t)}},render:function(){var t=arguments[0];return t("div",{class:o(),attrs:{role:"radiogroup"}},[this.slots()])}})},f852:function(t,e,s){"use strict";var i=s("9645"),n=s.n(i);n.a}}]);
//# sourceMappingURL=chunk-7911ca39.5e9054f5.js.map