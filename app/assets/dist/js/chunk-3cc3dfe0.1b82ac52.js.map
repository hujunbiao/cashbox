{"version":3,"sources":["webpack:///./node_modules/vant/lib/button/style/index.js","webpack:///./node_modules/vant/lib/row/style/index.js","webpack:///./src/views/authorize_business/confirm.vue?3338","webpack:///./node_modules/vant/lib/col/style/index.js","webpack:///./src/views/authorize_business/confirm.vue?a4f3","webpack:///./src/views/authorize_business/confirm.vue?06dc","webpack:///./src/views/authorize_business/confirm.vue?c44b","webpack:///./src/views/authorize_business/confirm.vue","webpack:///./node_modules/core-js/modules/es.array.from.js","webpack:///./node_modules/vant/es/button/index.js","webpack:///./src/components/cert_card.vue?872c","webpack:///./src/components/cert_card.vue?83c5","webpack:///./node_modules/@vue/babel-preset-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@vue/babel-preset-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@vue/babel-preset-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@vue/babel-preset-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./src/components/cert_card.vue?d266","webpack:///./src/components/cert_card.vue?1468","webpack:///./src/components/cert_card.vue","webpack:///./node_modules/vant/lib/overlay/style/index.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","_v","_s","authTypeText","businessModel","name","address","maxCount","attrs","on","onClickDConfirm","isShowLoading","loadHintInfo","staticRenderFns","use","signedValue","$store","state","title","window","nativeSignMsgToJsResult","nowBusiness","console","log","authType","Auth","Delete","show","signInfo","authAddress","getInstance","callBusinessOperation","nativeChainAddress","then","res","undefined","trim","callNativeSignMsgToJs","fail","catch","reason","sendToChain","status","isFinalized","txHash","asFinalized","loadApiPromise","apiPromise","query","system","events","at","isExecSuccess","forEach","phase","event","data","method","section","toJSON","toString","isBroadcast","isDropped","isInvalid","tThis","setTimeout","$router","push","replace","components","CertShow","component","$","from","checkCorrectnessOfIteration","INCORRECT_ITERATION","iterable","Array","target","stat","forced","_createNamespace","createComponent","bem","Button","h","props","slots","ctx","_ref","tag","icon","type","color","plain","disabled","loading","hairline","loadingText","style","onClick","onTouchstart","background","indexOf","border","borderColor","classes","size","block","round","square","Content","text","content","loadingSize","loadingType","default","nativeType","String","Boolean","_l","it","key","value","_arrayWithoutHoles","arr","isArray","i","arr2","length","_iterableToArray","iter","Symbol","iterator","Object","prototype","call","_nonIterableSpread","TypeError","_toConsumableArray","arrayWithoutHoles","iterableToArray","nonIterableSpread","certOwn","nowCertOwn","mapI18n","certGia","toCert","map","i18n","keys","item","l","$t"],"mappings":"qGAAA,EAAQ,QACR,EAAQ,QACR,EAAQ,QACR,EAAQ,QACR,EAAQ,S,gDCJR,EAAQ,QACR,EAAQ,S,kCCDR,yBAAwf,EAAG,G,uBCA3f,EAAQ,QACR,EAAQ,S,2CCDR,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAACN,EAAIO,GAAG,GAAGH,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACF,EAAG,MAAM,CAACE,YAAY,4BAA4B,CAACF,EAAG,OAAO,CAACE,YAAY,0BAA0B,CAACN,EAAIQ,GAAG,UAAUJ,EAAG,OAAO,CAACE,YAAY,4BAA4B,CAACN,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIU,mBAAmBN,EAAG,cAAc,CAACE,YAAY,iBAAiBF,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACF,EAAG,OAAO,CAACE,YAAY,qBAAqB,CAACN,EAAIQ,GAAG,WAAWJ,EAAG,OAAO,CAACE,YAAY,uBAAuB,CAACN,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIW,cAAcC,WAAWR,EAAG,cAAc,CAACE,YAAY,iBAAiBF,EAAG,MAAM,CAACE,YAAY,0BAA0B,CAACF,EAAG,OAAO,CAACE,YAAY,wBAAwB,CAACN,EAAIQ,GAAG,WAAWJ,EAAG,OAAO,CAACE,YAAY,0BAA0B,CAACN,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIW,cAAcE,cAAcT,EAAG,cAAc,CAACE,YAAY,iBAAiBF,EAAG,MAAM,CAACE,YAAY,0BAA0B,CAACF,EAAG,OAAO,CAACE,YAAY,wBAAwB,CAACN,EAAIQ,GAAG,UAAUJ,EAAG,OAAO,CAACE,YAAY,0BAA0B,CAACN,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIW,cAAcG,eAAeV,EAAG,cAAc,CAACE,YAAY,kBAAkB,GAAGN,EAAIO,GAAG,GAAGH,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,aAAa,CAACE,YAAY,eAAeS,MAAM,CAAC,MAAQ,GAAG,KAAO,QAAQC,GAAG,CAAC,MAAQhB,EAAIiB,kBAAkB,CAACjB,EAAIQ,GAAG,eAAe,GAAGJ,EAAG,cAAc,CAACW,MAAM,CAAC,KAAOf,EAAIkB,gBAAgB,CAACd,EAAG,cAAc,CAACE,YAAY,oBAAoBS,MAAM,CAAC,KAAO,UAAU,SAAW,KAAK,CAACf,EAAIQ,GAAGR,EAAIS,GAAGT,EAAImB,kBAAkB,IAAI,IACxjDC,EAAkB,CAAC,WAAa,IAAIpB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,+BAA+B,CAACF,EAAG,OAAO,CAACE,YAAY,yBAAyB,CAACN,EAAIQ,GAAG,gBAAgB,WAAa,IAAIR,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,0BAA0B,CAACF,EAAG,OAAO,CAACE,YAAY,0BAA0B,CAACN,EAAIQ,GAAG,qB,wVCwDra,OAAIa,IAAI,QAAQA,IAAI,QAKpB,IAAqB,EAArB,6D,+DACY,EAAAV,cAAgB,IAAI,OACpB,EAAAD,aAAe,KACf,EAAAY,YAAc,GACd,EAAAJ,eAAgB,EAChB,EAAAC,aAAe,aAL3B,+EAQQlB,KAAKsB,OAAOC,MAAMC,MAAQ,OAErBC,OAAeC,wBAA0B1B,KAAK0B,0BAV3D,gCAeQ1B,KAAKU,cAAgBV,KAAKsB,OAAOC,MAAMI,YACvCC,QAAQC,IAAI,kCAAoC7B,KAAKU,cAAcoB,UAC/D9B,KAAKU,cAAcoB,WAAa,OAAiBC,KACjD/B,KAAKS,aAAe,QACbT,KAAKU,cAAcoB,WAAa,OAAiBE,OACxDhC,KAAKS,aAAe,QAEpB,OAAUwB,KAAK,gBAEnBjC,KAAKqB,YAAcrB,KAAKU,cAAcwB,WAxB9C,wCA2B0B,WAClBlC,KAAKiB,eAAgB,EACrBjB,KAAKkB,aAAe,aACpBU,QAAQC,IAAI,qCAAuC7B,KAAKU,cAAcyB,YAClE,oCAAsCnC,KAAKU,cAAcoB,SACzD,oCAAsC9B,KAAKU,cAAcG,SACzD,gCAAkCb,KAAKU,cAAcC,KACrD,mCAAqCX,KAAKU,cAAcE,SAC5D,OAAYwB,cAAcC,sBAAsBrC,KAAKU,cAAcoB,SAAU9B,KAAKsB,OAAOC,MAAMe,mBAC3FtC,KAAKU,cAAcC,KAAMX,KAAKU,cAAcE,QAASZ,KAAKU,cAAcG,UACvE0B,MAAK,SAACC,GACH,EAAKvB,eAAgB,EACT,OAARuB,QAAwBC,IAARD,GAAoC,KAAfA,EAAIE,QAI7Cd,QAAQC,IAAI,oCAAsCW,GAClD,OAAUP,KAAK,4BACf,OAAUG,cAAcO,sBAAsBH,IAL1C,OAAUI,KAAK,gCAMpBC,OAAM,SAACC,GACV,EAAK7B,eAAgB,EACrBW,QAAQC,IAAI,mBAAqBiB,GACjC,OAAUb,KAAK,YAAca,QAjDzC,yGAsD0CN,GAtD1C,4FAuDQZ,QAAQC,IAAI,qCAAuCW,GACnDxC,KAAKiB,eAAgB,EACrBjB,KAAKkB,aAAe,aAEpB,OAAYkB,cAAcW,YAAYP,GAAK,SAACQ,GACxC,GAAIA,EAAOC,YAAa,CACpBrB,QAAQC,IAAI,gCACZ,IAAIqB,EAASF,EAAOG,YACpB,OAAYf,cAAcgB,iBAAiBb,MAAK,SAACc,GAC7CA,EAAWC,MAAMC,OAAOC,OAAOC,GAAGP,GAAQX,MAAK,SAACiB,GAC5C,EAAKvC,eAAgB,EACrB,IAAIyC,GAAgB,EACpBF,EAAOG,SAAQ,YAA4C,IAA1CC,EAA0C,EAA1CA,MAA0C,IAAnCC,MAAQC,EAA2B,EAA3BA,KAAMC,EAAqB,EAArBA,OAAQC,EAAa,EAAbA,QAC3B,aAAXA,GAAoC,qBAAVD,IAC1BnC,QAAQC,IAAI,gBAAkBiC,EAAKG,UACnC,OAAUhC,KAAK,sBAAuB,KACtCyB,GAAgB,GAEpB9B,QAAQC,IAAI,cAAgB+B,EAAMM,WAAa,cAAnC,YAAwDF,EAAxD,YAAmED,GAAWD,EAAKI,eAE9FR,GACD,OAAUd,KAAK,oBAAqB,WAUpD,GALII,EAAOmB,cACPvC,QAAQC,IAAI,0BACZD,QAAQC,IAAI,gCACZ,OAAUI,KAAK,wBAEfe,EAAOoB,UAIP,OAHA,EAAKnD,eAAgB,EACrBW,QAAQC,IAAI,6BACZ,OAAUe,KAAK,iBAGnB,GAAII,EAAOqB,UAIP,OAHA,EAAKpD,eAAgB,EACrBW,QAAQC,IAAI,8BACZ,OAAUe,KAAK,eAGnB,IAAI0B,EAAQ,EACZC,YAAW,WACPD,EAAME,QAAQC,KAAK,CACf9D,KAAM,uBAEX,QACJkC,OAAM,SAACC,GACN,EAAK7B,eAAgB,EACrBW,QAAQC,IAAI,mBAAqBiB,GACjC,EAAK0B,QAAQE,QAAQ,CACjB/D,KAAM,mBAEV,OAAUiC,KAAK,0BA9G3B,+GAAqC,QAAhB,EAAO,gBAH3B,eAAU,CACP+B,WAAY,CAACC,SAAA,WAEI,WC9D+X,I,wBCQhZC,EAAY,eACd,EACA/E,EACAqB,GACA,EACA,KACA,WACA,MAIa,aAAA0D,E,8BCnBf,IAAIC,EAAI,EAAQ,QACZC,EAAO,EAAQ,QACfC,EAA8B,EAAQ,QAEtCC,GAAuBD,GAA4B,SAAUE,GAC/DC,MAAMJ,KAAKG,MAKbJ,EAAE,CAAEM,OAAQ,QAASC,MAAM,EAAMC,OAAQL,GAAuB,CAC9DF,KAAMA,K,gFCXR,6GASIQ,EAAmB,eAAgB,UACnCC,EAAkBD,EAAiB,GACnCE,EAAMF,EAAiB,GAE3B,SAASG,EAAOC,EAAGC,EAAOC,EAAOC,GAC/B,IAAIC,EAEAC,EAAMJ,EAAMI,IACZC,EAAOL,EAAMK,KACbC,EAAON,EAAMM,KACbC,EAAQP,EAAMO,MACdC,EAAQR,EAAMQ,MACdC,EAAWT,EAAMS,SACjBC,EAAUV,EAAMU,QAChBC,EAAWX,EAAMW,SACjBC,EAAcZ,EAAMY,YACpBC,EAAQ,GAkBZ,SAASC,EAAQ7C,GACVyC,GAAYD,IACf,eAAKP,EAAK,QAASjC,GACnB,eAAgBiC,IAIpB,SAASa,EAAa9C,GACpB,eAAKiC,EAAK,aAAcjC,GAxBtBsC,IACFM,EAAMN,MAAQC,EAAQD,EAAQ,OAEzBC,IAEHK,EAAMG,WAAaT,IAIc,IAA/BA,EAAMU,QAAQ,YAChBJ,EAAMK,OAAS,EAEfL,EAAMM,YAAcZ,GAexB,IAAIa,EAAU,CAACvB,EAAI,CAACS,EAAMN,EAAMqB,KAAM,CACpCb,MAAOA,EACPE,QAASA,EACTD,SAAUA,EACVE,SAAUA,EACVW,MAAOtB,EAAMsB,MACbC,MAAOvB,EAAMuB,MACbC,OAAQxB,EAAMwB,WACVrB,EAAO,GAAIA,EAAK,QAAmBQ,EAAUR,IAEnD,SAASsB,IACP,IAoBIC,EApBAC,EAAU,GAkCd,OAhCIjB,EACFiB,EAAQ9C,KAAKkB,EAAE,OAAS,CACtB,MAASF,EAAI,WACb,MAAS,CACP,KAAQG,EAAM4B,YACd,KAAQ5B,EAAM6B,YACd,MAAS,mBAGJxB,GACTsB,EAAQ9C,KAAKkB,EAAE,OAAM,CACnB,MAAS,CACP,KAAQM,GAEV,MAASR,EAAI,WAOf6B,EADEhB,EACKE,EAEAX,EAAM6B,QAAU7B,EAAM6B,UAAY9B,EAAM0B,KAG7CA,GACFC,EAAQ9C,KAAKkB,EAAE,OAAQ,CACrB,MAASF,EAAI,SACZ,CAAC6B,KAGCC,EAGT,OAAO5B,EAAEK,EAAK,IAAe,CAAC,CAC5B,MAASS,EACT,MAASO,EACT,MAAS,CACP,KAAQpB,EAAM+B,WACd,SAAYtB,GAEd,GAAM,CACJ,MAASK,EACT,WAAcC,IAEf,eAAQb,KAAQ,CAACuB,MAGtB3B,EAAOE,MAAQ,eAAS,GAAI,OAAY,CACtC0B,KAAMM,OACN3B,KAAM2B,OACNzB,MAAOyB,OACPV,MAAOW,QACPzB,MAAOyB,QACPV,MAAOU,QACPT,OAAQS,QACRvB,QAASuB,QACTtB,SAAUsB,QACVxB,SAAUwB,QACVF,WAAYC,OACZpB,YAAaoB,OACbH,YAAaG,OACb5B,IAAK,CACHE,KAAM0B,OACNF,QAAS,UAEXxB,KAAM,CACJA,KAAM0B,OACNF,QAAS,WAEXT,KAAM,CACJf,KAAM0B,OACNF,QAAS,UAEXF,YAAa,CACXtB,KAAM0B,OACNF,QAAS,UAGE,OAAAlC,EAAA,I,kCCnJf,yBAAgd,EAAG,G,kCCAnd,IAAI1F,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,mBAAmBN,EAAI+H,GAAI/H,EAAW,SAAE,SAASgI,GAAI,OAAO5H,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,OAAO,CAACE,YAAY,iBAAiB,CAACN,EAAIQ,GAAGR,EAAIS,GAAGuH,EAAGC,QAAQ7H,EAAG,OAAO,CAACE,YAAY,mBAAmB,CAACN,EAAIQ,GAAGR,EAAIS,GAAGuH,EAAGE,YAAY9H,EAAG,cAAc,CAACE,YAAY,kBAAkB,MAAK,IAC1bc,EAAkB,G,sECDP,SAAS+G,EAAmBC,GACzC,GAAIhD,MAAMiD,QAAQD,GAAM,CACtB,IAAK,IAAIE,EAAI,EAAGC,EAAO,IAAInD,MAAMgD,EAAII,QAASF,EAAIF,EAAII,OAAQF,IAC5DC,EAAKD,GAAKF,EAAIE,GAGhB,OAAOC,G,8BCNI,SAASE,EAAiBC,GACvC,GAAIC,OAAOC,YAAYC,OAAOH,IAAkD,uBAAzCG,OAAOC,UAAU3E,SAAS4E,KAAKL,GAAgC,OAAOtD,MAAMJ,KAAK0D,GCD3G,SAASM,IACtB,MAAM,IAAIC,UAAU,mDCEP,SAASC,EAAmBd,GACzC,OAAOe,EAAkBf,IAAQgB,EAAgBhB,IAAQiB,I,8GCc3D,OAAIhI,IAAI,QAGR,IAAqB,EAArB,+LAKapB,KAAKqJ,UACNrJ,KAAKqJ,QAAUrJ,KAAKsB,OAAOC,MAAM+H,YAErC,IAAMC,EAAU,GAChB,GAAIvJ,KAAKqJ,SAAWrJ,KAAKqJ,QAAQG,UAC7BD,EAAQ9E,KAAR,MAAA8E,EAAO,EAASvJ,KAAKqJ,QAAQG,QAAQC,SAASC,MAC1C1J,KAAKqJ,QAAQG,QAAQC,SAASE,MAAM,4BACpC,YAAiB3J,KAAKqJ,QAAQG,QAAQC,SAASC,IAAIE,OAAnD,+CAA2D,KAAhD7B,EAAgD,QACjD8B,EAAO7J,KAAKqJ,QAAQG,QAAQC,SAASC,IAAI3B,GACzC+B,EAAI9J,KAAK+J,GAAGF,EAAK7B,KACnB8B,IACAD,EAAK7B,IAAM8B,EACXP,EAAQxB,GAAM8B,IANc,mFAW5C,OAAON,MAtBf,GAAsC,QAAjB,EAAQ,gBAD5B,eAAU,CAAC5I,KAAK,cACI,WCrB+W,I,wBCQhYkE,EAAY,eACd,EACA/E,EACAqB,GACA,EACA,KACA,KACA,MAIa,OAAA0D,E,4ECnBf,EAAQ,QACR,EAAQ","file":"js/chunk-3cc3dfe0.1b82ac52.js","sourcesContent":["require('../../style/base.css');\nrequire('../../info/index.css');\nrequire('../../icon/index.css');\nrequire('../../loading/index.css');\nrequire('../index.css');","require('../../style/base.css');\nrequire('../index.css');","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./confirm.vue?vue&type=style&index=0&id=06057fa6&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./confirm.vue?vue&type=style&index=0&id=06057fa6&scoped=true&lang=css&\"","require('../../style/base.css');\nrequire('../index.css');","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"business_confirm_page\"},[_vm._m(0),_c('div',{staticClass:\"business_info_group\"},[_c('div',{staticClass:\"business_operation_group\"},[_c('span',{staticClass:\"business_operation_key\"},[_vm._v(\"操作类型\")]),_c('span',{staticClass:\"business_operation_value\"},[_vm._v(_vm._s(_vm.authTypeText))])]),_c('van-divider',{staticClass:\"divider_line\"}),_c('div',{staticClass:\"business_name_group\"},[_c('span',{staticClass:\"business_name_key\"},[_vm._v(\"业务员名称\")]),_c('span',{staticClass:\"business_name_value\"},[_vm._v(_vm._s(_vm.businessModel.name))])]),_c('van-divider',{staticClass:\"divider_line\"}),_c('div',{staticClass:\"business_address_group\"},[_c('span',{staticClass:\"business_address_key\"},[_vm._v(\"业务员地址\")]),_c('span',{staticClass:\"business_address_value\"},[_vm._v(_vm._s(_vm.businessModel.address))])]),_c('van-divider',{staticClass:\"divider_line\"}),_c('div',{staticClass:\"business_address_group\"},[_c('span',{staticClass:\"business_address_key\"},[_vm._v(\"授权次数\")]),_c('span',{staticClass:\"business_address_value\"},[_vm._v(_vm._s(_vm.businessModel.maxCount))])]),_c('van-divider',{staticClass:\"divider_line\"})],1),_vm._m(1),_c('div',{staticClass:\"up_chain_btn_group\"},[_c('van-button',{staticClass:\"up_chain_btn\",attrs:{\"plain\":\"\",\"type\":\"info\"},on:{\"click\":_vm.onClickDConfirm}},[_vm._v(\" 点击验证上链 \")])],1),_c('van-overlay',{attrs:{\"show\":_vm.isShowLoading}},[_c('van-loading',{staticClass:\"loading_component\",attrs:{\"type\":\"spinner\",\"vertical\":\"\"}},[_vm._v(_vm._s(_vm.loadHintInfo))])],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"confirm_message_title_group\"},[_c('span',{staticClass:\"confirm_message_title\"},[_vm._v(\"请确认操作信息\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"confirm_to_chain_group\"},[_c('span',{staticClass:\"confirm_to_chain_title\"},[_vm._v(\"输入密码签名，确认上链\")])])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {Component, Vue} from 'vue-property-decorator';\nimport {Button, Toast, Overlay} from 'vant';\nimport CertShow from '@/components/cert_card.vue';\nimport {notes, NoteType} from '@/util/note';\nimport {DiamondUtil} from \"../../util/diamond_util\";\nimport {AuthBusinessType, Business} from \"../../model/business_model\";\nimport 'vant/lib/row/style';\nimport 'vant/lib/toast/style';\nimport 'vant/lib/col/style';\nimport 'vant/lib/button/style';\nimport 'vant/lib/overlay/style';\nimport {ToastUtil} from \"../../util/toast\";\nimport {CashboxJs} from '@/util/cashboxjs';\nimport {ExtrinsicStatus} from \"@polkadot/types/interfaces\";\n\nVue.use(Button).use(Overlay);\n\n@Component({\n    components: {CertShow},\n})\nexport default class Confirm extends Vue {\n    private businessModel = new Business();              //\n    private authTypeText = \"未知\";                       // 操作类型\n    private signedValue = \"\";                            // 签名信息\n    private isShowLoading = false;\n    private loadHintInfo = \"信息上链进行中...\";\n\n    public created(): void {\n        this.$store.state.title = \"操作确认\";\n        {\n            (window as any).nativeSignMsgToJsResult = this.nativeSignMsgToJsResult;\n        }\n    }\n\n    public mounted() {\n        this.businessModel = this.$store.state.nowBusiness;\n        console.log(\"this.businessModel.authType===>\" + this.businessModel.authType);\n        if (this.businessModel.authType === AuthBusinessType.Auth) {\n            this.authTypeText = \"增加业务员\";\n        } else if (this.businessModel.authType === AuthBusinessType.Delete) {\n            this.authTypeText = \"删除业务员\";\n        } else {\n            ToastUtil.show(\"授权类型未知，请重新查证\");\n        }\n        this.signedValue = this.businessModel.signInfo;\n    }\n\n    public onClickDConfirm(): void {\n        this.isShowLoading = true;\n        this.loadHintInfo = \"拼接签名数据中...\";\n        console.log(\"this.businessModel.authAddress===>\" + this.businessModel.authAddress +\n            \"||this.businessModel.authType===>\" + this.businessModel.authType +\n            \"||this.businessModel.maxCount===>\" + this.businessModel.maxCount +\n            \"||this.businessModel.name===>\" + this.businessModel.name +\n            \"||this.businessModel.address===>\" + this.businessModel.address);\n        DiamondUtil.getInstance().callBusinessOperation(this.businessModel.authType, this.$store.state.nativeChainAddress,\n            this.businessModel.name, this.businessModel.address, this.businessModel.maxCount)\n            .then((res: string) => {\n                this.isShowLoading = false;\n                if (res === null || res === undefined || res.trim() === \"\") {\n                    ToastUtil.fail(\"拼装上链数据格式出现错误，请查证后重新申请上链操作\");\n                    return;\n                }\n                console.log(\"callAddBusiness is ok, res======>\" + res);\n                ToastUtil.show(\"请输入该账户密码继续签名验证，完成后立即执行上链\");\n                CashboxJs.getInstance().callNativeSignMsgToJs(res);\n            }).catch((reason) => {\n            this.isShowLoading = false;\n            console.log(\"数据格式出现错误,reason:\" + reason);\n            ToastUtil.show(\"数据格式出现错误，\" + reason);\n            return;\n        });\n    }\n\n    private async nativeSignMsgToJsResult(res: string) {\n        console.log(\"nativeSignMsgToJsResult res======>\" + res);\n        this.isShowLoading = true;\n        this.loadHintInfo = \"信息上链进行中...\";\n\n        DiamondUtil.getInstance().sendToChain(res, (status: ExtrinsicStatus) => {\n            if (status.isFinalized) {//完成\n                console.log(\"use balance is finished!===>\");\n                let txHash = status.asFinalized;\n                DiamondUtil.getInstance().loadApiPromise().then((apiPromise) => {\n                    apiPromise.query.system.events.at(txHash).then((events) => {\n                        this.isShowLoading = false;\n                        let isExecSuccess = false;\n                        events.forEach(({phase, event: {data, method, section}}) => {\n                            if (section == \"contracts\" && method == \"ContractExecution\") {\n                                console.log(\"contracts===>\" + data.toJSON());\n                                ToastUtil.show(\"信息上链已完成，可在浏览器查询交易状态\", 8000);\n                                isExecSuccess = true;\n                            }\n                            console.log('forEach  =>' + phase.toString() + \"||section=>\" + `: ${section}.${method}` + data.toString());\n                        });\n                        if (!isExecSuccess) {\n                            ToastUtil.fail(\"信息上链失败，链上调用出现问题！~\", 8000);\n                        }\n                    });\n                });\n            }\n            if (status.isBroadcast) {//广播\n                console.log(\"status.isBroadcast===>\");\n                console.log(\"use balance is finished!===>\");\n                ToastUtil.show(\"信息上链已完成，可在浏览器查询交易状态\");\n            }\n            if (status.isDropped) {//丢弃\n                this.isShowLoading = false;\n                console.log(\"status.isDropped===>\");\n                ToastUtil.fail(\"信息上链失败，操作已被丢弃\");\n                return;\n            }\n            if (status.isInvalid) {//无效\n                this.isShowLoading = false;\n                console.log(\"status.isInvalid!===>\");\n                ToastUtil.fail(\"信息上链失败，无效操作\");\n                return;\n            }\n            let tThis = this;\n            setTimeout(function () {\n                tThis.$router.push({\n                    name: 'business_process',\n                })\n            }, 1000);\n        }).catch((reason) => {\n            this.isShowLoading = false;\n            console.log(\"Error reason===>\" + reason);\n            this.$router.replace({\n                name: 'business_entry',\n            });\n            ToastUtil.fail(\"信息上链，出现错误！！！请重新检查信息\");\n        });\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./confirm.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./confirm.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./confirm.vue?vue&type=template&id=06057fa6&scoped=true&\"\nimport script from \"./confirm.vue?vue&type=script&lang=ts&\"\nexport * from \"./confirm.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./confirm.vue?vue&type=style&index=0&id=06057fa6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"06057fa6\",\n  null\n  \n)\n\nexport default component.exports","var $ = require('../internals/export');\nvar from = require('../internals/array-from');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\n\nvar INCORRECT_ITERATION = !checkCorrectnessOfIteration(function (iterable) {\n  Array.from(iterable);\n});\n\n// `Array.from` method\n// https://tc39.github.io/ecma262/#sec-array.from\n$({ target: 'Array', stat: true, forced: INCORRECT_ITERATION }, {\n  from: from\n});\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _mergeJSXProps from \"@vue/babel-helper-vue-jsx-merge-props\";\nimport { createNamespace } from '../utils';\nimport { emit, inherit } from '../utils/functional';\nimport { BORDER_SURROUND, WHITE } from '../utils/constant';\nimport { routeProps, functionalRoute } from '../utils/router';\nimport Icon from '../icon';\nimport Loading from '../loading'; // Types\n\nvar _createNamespace = createNamespace('button'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nfunction Button(h, props, slots, ctx) {\n  var _ref;\n\n  var tag = props.tag,\n      icon = props.icon,\n      type = props.type,\n      color = props.color,\n      plain = props.plain,\n      disabled = props.disabled,\n      loading = props.loading,\n      hairline = props.hairline,\n      loadingText = props.loadingText;\n  var style = {};\n\n  if (color) {\n    style.color = plain ? color : WHITE;\n\n    if (!plain) {\n      // Use background instead of backgroundColor to make linear-gradient work\n      style.background = color;\n    } // hide border when color is linear-gradient\n\n\n    if (color.indexOf('gradient') !== -1) {\n      style.border = 0;\n    } else {\n      style.borderColor = color;\n    }\n  }\n\n  function onClick(event) {\n    if (!loading && !disabled) {\n      emit(ctx, 'click', event);\n      functionalRoute(ctx);\n    }\n  }\n\n  function onTouchstart(event) {\n    emit(ctx, 'touchstart', event);\n  }\n\n  var classes = [bem([type, props.size, {\n    plain: plain,\n    loading: loading,\n    disabled: disabled,\n    hairline: hairline,\n    block: props.block,\n    round: props.round,\n    square: props.square\n  }]), (_ref = {}, _ref[BORDER_SURROUND] = hairline, _ref)];\n\n  function Content() {\n    var content = [];\n\n    if (loading) {\n      content.push(h(Loading, {\n        \"class\": bem('loading'),\n        \"attrs\": {\n          \"size\": props.loadingSize,\n          \"type\": props.loadingType,\n          \"color\": \"currentColor\"\n        }\n      }));\n    } else if (icon) {\n      content.push(h(Icon, {\n        \"attrs\": {\n          \"name\": icon\n        },\n        \"class\": bem('icon')\n      }));\n    }\n\n    var text;\n\n    if (loading) {\n      text = loadingText;\n    } else {\n      text = slots.default ? slots.default() : props.text;\n    }\n\n    if (text) {\n      content.push(h(\"span\", {\n        \"class\": bem('text')\n      }, [text]));\n    }\n\n    return content;\n  }\n\n  return h(tag, _mergeJSXProps([{\n    \"style\": style,\n    \"class\": classes,\n    \"attrs\": {\n      \"type\": props.nativeType,\n      \"disabled\": disabled\n    },\n    \"on\": {\n      \"click\": onClick,\n      \"touchstart\": onTouchstart\n    }\n  }, inherit(ctx)]), [Content()]);\n}\n\nButton.props = _extends({}, routeProps, {\n  text: String,\n  icon: String,\n  color: String,\n  block: Boolean,\n  plain: Boolean,\n  round: Boolean,\n  square: Boolean,\n  loading: Boolean,\n  hairline: Boolean,\n  disabled: Boolean,\n  nativeType: String,\n  loadingText: String,\n  loadingType: String,\n  tag: {\n    type: String,\n    default: 'button'\n  },\n  type: {\n    type: String,\n    default: 'default'\n  },\n  size: {\n    type: String,\n    default: 'normal'\n  },\n  loadingSize: {\n    type: String,\n    default: '20px'\n  }\n});\nexport default createComponent(Button);","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cert_card.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cert_card.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cert_detail_cls\"},_vm._l((_vm.certMap),function(it){return _c('div',{staticClass:\"item_cert_row\"},[_c('div',{staticClass:\"item_group\"},[_c('span',{staticClass:\"item_cert_key\"},[_vm._v(_vm._s(it.key))]),_c('span',{staticClass:\"item_cert_value\"},[_vm._v(_vm._s(it.value))])]),_c('van-divider',{staticClass:\"divider_line\"})],1)}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","\n\n\n\n\n\n\n\n\n\n\n\n\nimport {Component, Vue, Inject, Prop} from 'vue-property-decorator';\nimport {CertOwn} from '../model/certs_model';\nimport {Divider} from 'vant'\nimport 'vant/lib/divider/style';\n\nVue.use(Divider);\n\n@Component({name:'CertCard'})\nexport default class CertCard extends Vue {\n    private certOwn!: CertOwn;\n\n    // 处理证书中的多语言\n    public get certMap(): Array<{ key: string, value: string }> {\n        if (!this.certOwn) {\n            this.certOwn = this.$store.state.nowCertOwn;\n        }\n        const mapI18n = [];\n        if (this.certOwn && this.certOwn.certGia) {\n            mapI18n.push(...this.certOwn.certGia.toCert().map);\n            if (this.certOwn.certGia.toCert().i18n) {\n                for (const it of this.certOwn.certGia.toCert().map.keys()) {\n                    const item = this.certOwn.certGia.toCert().map[it];\n                    const l = this.$t(item.key) as string;\n                    if (l) {\n                        item.key = l;\n                        mapI18n[it] = item;\n                    }\n                }\n            }\n        }\n        return mapI18n;\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cert_card.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cert_card.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./cert_card.vue?vue&type=template&id=a22ffe38&\"\nimport script from \"./cert_card.vue?vue&type=script&lang=ts&\"\nexport * from \"./cert_card.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./cert_card.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","require('../../style/base.css');\nrequire('../index.css');"],"sourceRoot":""}