(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7911ca39"],{2477:function(e,t,s){s("a29f")},7597:function(e,t,s){s("a29f"),s("0607"),s("949e"),s("857f")},7689:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"business_page",style:{height:e.bodyHeight+"px"}},[s("div",{staticClass:"operation_title_group"},[s("span",{staticClass:"operation_tip"},[e._v(e._s(e.$t("business.stepOne")))])]),s("div",{staticClass:"operation_type_group"},[s("van-radio-group",{staticClass:"radio_group_cls",model:{value:e.radioAuthBtnValue,callback:function(t){e.radioAuthBtnValue=t},expression:"radioAuthBtnValue"}},[s("van-radio",{staticStyle:{float:"left","margin-left":"10%"},attrs:{name:e.AddBusiness}},[e._v(e._s(e.$t("addBusiness"))+" ")]),s("van-radio",{staticStyle:{float:"right","margin-right":"10%"},attrs:{name:e.DeleteBusiness}},[e._v(e._s(e.$t("businessCancel"))+" ")])],1)],1),s("div",{staticClass:"business_step2_group"},[s("span",{staticClass:"business_step2_title"},[e._v(e._s(e.$t("business.stepTwo")))])]),s("div",{staticClass:"business_step2_content"},[s("div",{staticClass:"input_add_name_group"},[s("van-cell-group",[s("van-field",{attrs:{label:e.$t("business.name"),maxlength:"12",clearable:"",placeholder:e.$t("inputAddressName"),id:"input_add_name_group"},model:{value:e.inputName,callback:function(t){e.inputName=t},expression:"inputName"}})],1),s("van-cell-group",[s("van-field",{attrs:{label:e.$t("business.address"),clearable:"","right-icon":e.addressRightIcon,placeholder:e.$t("inputAddress"),id:"input_add_name_group"},on:{"click-right-icon":e.scanOrChooseAddress},model:{value:e.inputAddress,callback:function(t){e.inputAddress=t},expression:"inputAddress"}})],1)],1),s("div",{staticClass:"setting_time_group"},[s("van-cell-group",[s("van-field",{attrs:{label:e.$t("setTimes"),type:"number",id:"setting_time_group"},model:{value:e.countTime,callback:function(t){e.countTime=t},expression:"countTime"}})],1)],1)]),s("div",{staticClass:"address_popup_group"},[s("van-popup",{staticClass:"popup_window_group",model:{value:e.isShowAddressPopup,callback:function(t){e.isShowAddressPopup=t},expression:"isShowAddressPopup"}},[s("van-picker",{staticClass:"addPicker",attrs:{"show-toolbar":"",columns:e.addressList,"default-index":e.addressList.length/2},on:{cancel:function(t){e.isShowAddressPopup=!1},confirm:e.confirmPickerAddress}})],1)],1),s("van-divider",{staticClass:"divider_line"}),s("div",{staticClass:"auth_btn_group"},[s("van-button",{staticClass:"business_confirm_btn",attrs:{plain:"",type:"info"},on:{click:e.clickNextStep}},[e._v("下一步")])],1),s("van-overlay",{attrs:{show:e.isLoadingAccount}},[s("van-loading",{staticClass:"loading_component",attrs:{type:"spinner",vertical:""}},[e._v("数据加载中...")])],1)],1)},n=[],a=(s("4160"),s("c975"),s("b0c0"),s("d3b7"),s("25f0"),s("159b"),s("96cf"),s("c964")),r=s("276c"),o=s("e954"),u=s("e1a7"),c=s("f20d"),d=s("920b"),l=s("9ab4"),h=s("60a3"),p=s("e27c"),b=s("9f14"),f=s("b650"),v=s("9ed2"),m=s("6e47"),g=s("543e"),A=s("106a"),_=s("8402"),k=(s("2477"),s("7597"),s("0147"),s("c2d8"),s("eeb2"),s("e815"),s("b657"),s("ef88")),S=s("7c42"),y=s("5487"),C=s("ac6d"),O=s("bb62");h["c"].use(p["a"]).use(b["a"]).use(f["a"]).use(v["a"]).use(f["a"]).use(m["a"]).use(g["a"]);var w=function(e){function t(){var e;return Object(r["a"])(this,t),e=Object(u["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.inputName="",e.inputAddress="",e.countTime=1e3,e.AddBusiness=k["a"].Auth,e.DeleteBusiness=k["a"].Delete,e.radioAuthBtnValue=e.AddBusiness,e.bodyHeight=0,e.businessModel=new k["b"],e.authAddress="",e.addressRightIcon=O["a"].ICON_ARROW_DOWN,e.isShowAddressPopup=!1,e.addressList=Array(),e.SeparateSymbol=";",e.isLoadingAccount=!0,e}return Object(d["a"])(t,e),Object(o["a"])(t,[{key:"created",value:function(){this.$store.state.title=this.$t("businessAuthorize"),window.nativeQrScanToJsResult=this.nativeQrScanToJsResult}},{key:"mounted",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.bodyHeight=93*document.documentElement.clientHeight/100,null!==O["a"].loadContractAddress()&&""!==O["a"].loadContractAddress()){e.next=5;break}return S["a"].show(this.$t("contractAddressIsNull").toString()),this.isLoadingAccount=!1,e.abrupt("return");case 5:return this.isLoadingAccount=!0,this.authAddress=this.$store.state.nativeChainAddress,e.next=9,y["b"].getInstance().loadBusinessList(this.$store.state.nativeChainAddress);case 9:t=e.sent,this.isLoadingAccount=!1,t.forEach((function(e){s.addressList.push(e.name+s.SeparateSymbol+e.address)}));case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onChangeAuthType",value:function(e){e===this.AddBusiness?(this.businessModel.authType=k["a"].Auth,this.addressRightIcon=O["a"].ICON_SCAN):e===this.DeleteBusiness?(this.businessModel.authType=k["a"].Delete,this.addressRightIcon=O["a"].ICON_ARROW_DOWN):(S["a"].show("操作类型选择有误，请重新检查后选择，改为默认增加业务员"),this.businessModel.authType=k["a"].Auth)}},{key:"scanOrChooseAddress",value:function(){this.radioAuthBtnValue===this.AddBusiness?_["a"].getInstance().callNativeQrScanToJs():this.isShowAddressPopup=!0}},{key:"confirmPickerAddress",value:function(e){if(this.isShowAddressPopup=!1,e){var t=e.indexOf(this.SeparateSymbol);this.inputName=e.substring(0,t),this.inputAddress=e.substring(t+1,e.length)}}},{key:"scanToSignedQr",value:function(){_["a"].getInstance().callNativeQrScanToJs()}},{key:"nativeQrScanToJsResult",value:function(e){if(-1===e.indexOf(";"))return this.inputAddress=e,void S["a"].show("二维码信息符合地址格式，已录入地址!")}},{key:"clickNextStep",value:function(){Object(C["a"])(this.inputAddress)?this.countTime<=0?S["a"].show("业务员授权次数，必须大约0!"):(this.businessModel.authAddress=this.authAddress,this.businessModel.maxCount=this.countTime,this.businessModel.name=this.inputName,this.businessModel.address=this.inputAddress,this.$store.commit("updateNowBusiness",this.businessModel),this.$router.push({name:"business_confirm"})):S["a"].show("输入地址验证失败!")}}]),t}(h["c"]);Object(l["a"])([Object(h["d"])("radioAuthBtnValue",{immediate:!0,deep:!0})],w.prototype,"onChangeAuthType",null),w=Object(l["a"])([Object(h["a"])({components:{ScanSign:A["a"]}})],w);var x=w,$=x,B=(s("f852"),s("2877")),N=Object(B["a"])($,i,n,!1,null,null,null);t["default"]=N.exports},"857f":function(e,t,s){},9645:function(e,t,s){},9884:function(e,t,s){"use strict";s.d(t,"a",(function(){return a})),s.d(t,"b",(function(){return r}));var i=s("2b0e");function n(e){var t=[];function s(e){e.forEach((function(e){t.push(e),e.children&&s(e.children)}))}return s(e),t}function a(e,t){var s,a;void 0===t&&(t={});var r=t.indexKey||"index";return i["a"].extend({inject:(s={},s[e]={default:null},s),computed:(a={parent:function(){return this.disableBindRelation?null:this[e]}},a[r]=function(){return this.bindRelation(),this.parent.children.indexOf(this)},a),mounted:function(){this.bindRelation()},beforeDestroy:function(){var e=this;this.parent&&(this.parent.children=this.parent.children.filter((function(t){return t!==e})))},methods:{bindRelation:function(){if(this.parent&&-1===this.parent.children.indexOf(this)){var e=[].concat(this.parent.children,[this]),t=n(this.parent.slots());e.sort((function(e,s){return t.indexOf(e.$vnode)-t.indexOf(s.$vnode)})),this.parent.children=e}}}})}function r(e){return{provide:function(){var t;return t={},t[e]=this,t},data:function(){return{children:[]}}}}},"9f14":function(e,t,s){"use strict";var i=s("d282"),n=s("ad06"),a=s("9884"),r=s("ea8e"),o=function(e){var t=e.parent,s=e.bem,i=e.role;return{mixins:[Object(a["a"])(t)],props:{name:null,value:null,disabled:Boolean,iconSize:[Number,String],checkedColor:String,labelPosition:String,labelDisabled:Boolean,shape:{type:String,default:"round"},bindGroup:{type:Boolean,default:!0}},computed:{disableBindRelation:function(){return!this.bindGroup},isDisabled:function(){return this.parent&&this.parent.disabled||this.disabled},iconStyle:function(){var e=this.checkedColor||this.parent&&this.parent.checkedColor;if(e&&this.checked&&!this.isDisabled)return{borderColor:e,backgroundColor:e}},tabindex:function(){return this.isDisabled||"radio"===i&&!this.checked?-1:0}},methods:{onClick:function(e){var t=e.target,s=this.$refs.icon,i=s===t||s.contains(t);this.isDisabled||!i&&this.labelDisabled||this.toggle(),this.$emit("click",e)},genIcon:function(){var e=this.$createElement,t=this.checked,i=this.iconSize||this.parent&&this.parent.iconSize;return e("div",{ref:"icon",class:s("icon",[this.shape,{disabled:this.isDisabled,checked:t}]),style:{fontSize:Object(r["a"])(i)}},[this.slots("icon",{checked:t})||e(n["a"],{attrs:{name:"success"},style:this.iconStyle})])},genLabel:function(){var e=this.$createElement,t=this.slots();if(t)return e("span",{class:s("label",[this.labelPosition,{disabled:this.isDisabled}])},[t])}},render:function(){var e=arguments[0],t=[this.genIcon()];return"left"===this.labelPosition?t.unshift(this.genLabel()):t.push(this.genLabel()),e("div",{attrs:{role:i,tabindex:this.tabindex,"aria-checked":String(this.checked)},class:s({disabled:this.isDisabled,"label-disabled":this.labelDisabled}),on:{click:this.onClick}},[t])}}},u=Object(i["a"])("radio"),c=u[0],d=u[1];t["a"]=c({mixins:[o({bem:d,role:"radio",parent:"vanRadio"})],computed:{currentValue:{get:function(){return this.parent?this.parent.value:this.value},set:function(e){(this.parent||this).$emit("input",e)}},checked:function(){return this.currentValue===this.name}},methods:{toggle:function(){this.currentValue=this.name}}})},e27c:function(e,t,s){"use strict";var i=s("d282"),n=s("9884"),a=Object(i["a"])("radio-group"),r=a[0],o=a[1];t["a"]=r({mixins:[Object(n["b"])("vanRadio")],props:{value:null,disabled:Boolean,checkedColor:String,iconSize:[Number,String]},watch:{value:function(e){this.$emit("change",e)}},render:function(){var e=arguments[0];return e("div",{class:o(),attrs:{role:"radiogroup"}},[this.slots()])}})},f852:function(e,t,s){"use strict";var i=s("9645"),n=s.n(i);n.a}}]);
//# sourceMappingURL=chunk-7911ca39.b98ca27b.js.map