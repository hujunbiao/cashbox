(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-20898408"],{"0147":function(t,s,e){e("a29f"),e("0607"),e("949e"),e("7565"),e("dfda")},"01fb":function(t,s,e){},"0662":function(t,s,e){e("a29f"),e("adba")},"269a":function(t,s,e){},"501d":function(t,s,e){"use strict";var a=e("269a"),n=e.n(a);n.a},"681e":function(t,s,e){e("a29f"),e("01fb")},"9b10":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"business_confirm_page"},[e("div",{staticClass:"confirm_message_title_group"},[e("span",{staticClass:"confirm_message_title"},[t._v(t._s(t.$t("plsConfirmInfo")))])]),e("div",{staticClass:"business_info_group"},[e("div",{staticClass:"business_operation_group"},[e("span",{staticClass:"business_operation_key"},[t._v(t._s(t.$t("operationType")))]),e("span",{staticClass:"business_operation_value"},[t._v(t._s(t.authTypeText))])]),e("van-divider",{staticClass:"divider_line"}),e("div",{staticClass:"business_name_group"},[e("span",{staticClass:"business_name_key"},[t._v(t._s(t.$t("businessName"))+" ")]),e("span",{staticClass:"business_name_value"},[t._v(t._s(t.businessModel.name))])]),e("van-divider",{staticClass:"divider_line"}),e("div",{staticClass:"business_address_group"},[e("span",{staticClass:"business_address_key"},[t._v(t._s(t.$t("businessAddress")))]),e("span",{staticClass:"business_address_value"},[t._v(t._s(t.businessModel.address))])]),e("van-divider",{staticClass:"divider_line"}),e("div",{staticClass:"business_address_group"},[e("span",{staticClass:"business_address_key"},[t._v(t._s(t.$t("authCount")))]),e("span",{staticClass:"business_address_value"},[t._v(t._s(t.businessModel.maxCount))])]),e("van-divider",{staticClass:"divider_line"})],1),e("div",{staticClass:"confirm_to_chain_group"},[e("span",{staticClass:"confirm_to_chain_title"},[t._v(t._s(t.$t("pwdSignAndUpToChain")))])]),e("div",{staticClass:"up_chain_btn_group"},[e("van-button",{staticClass:"up_chain_btn",attrs:{plain:"",type:"info"},on:{click:t.onClickDConfirm}},[t._v(" "+t._s(t.$t("clickVerifyUpToChain"))+" ")])],1),e("van-overlay",{attrs:{show:t.isShowLoading}},[e("van-loading",{staticClass:"loading_component",attrs:{type:"spinner",vertical:""}},[t._v(t._s(t.loadHintInfo))])],1)],1)},n=[],i=(e("99af"),e("4160"),e("b0c0"),e("d3b7"),e("ac1f"),e("25f0"),e("5319"),e("498a"),e("159b"),e("bf19"),e("96cf"),e("c964")),o=e("276c"),r=e("e954"),c=e("e1a7"),l=e("f20d"),u=e("920b"),d=e("9ab4"),h=e("60a3"),p=e("b650"),b=e("6e47"),f=e("c7fe"),g=e("5487"),v=e("ef88"),_=(e("0662"),e("c2d8"),e("681e"),e("0147"),e("e815"),e("7c42")),y=e("8402");h["c"].use(p["a"]).use(b["a"]);var m=function(t){function s(){var t;return Object(o["a"])(this,s),t=Object(c["a"])(this,Object(l["a"])(s).apply(this,arguments)),t.businessModel=new v["b"],t.authTypeText="",t.signedValue="",t.isShowLoading=!1,t.loadHintInfo="信息上链进行中...",t}return Object(u["a"])(s,t),Object(r["a"])(s,[{key:"created",value:function(){this.$store.state.title=this.$t("confirmInfo").toString(),this.authTypeText=this.$t("unknownType").toString(),window.nativeSignMsgToJsResult=this.nativeSignMsgToJsResult}},{key:"mounted",value:function(){this.businessModel=this.$store.state.nowBusiness,console.log("this.businessModel.authType===>"+this.businessModel.authType),this.businessModel.authType===v["a"].Auth?this.authTypeText=this.$t("addBusiness").toString():this.businessModel.authType===v["a"].Delete?this.authTypeText=this.$t("deleteBusiness").toString():_["a"].fail(this.$t("operateTypeIsError").toString()),this.signedValue=this.businessModel.signInfo}},{key:"onClickDConfirm",value:function(){var t=this;this.isShowLoading=!0,this.loadHintInfo=this.$t("assemblingData").toString(),console.log("this.businessModel.authAddress===>"+this.businessModel.authAddress+"||this.businessModel.authType===>"+this.businessModel.authType+"||this.businessModel.maxCount===>"+this.businessModel.maxCount+"||this.businessModel.name===>"+this.businessModel.name+"||this.businessModel.address===>"+this.businessModel.address),g["b"].getInstance().assembleOperateBusiness(this.businessModel.authType,this.$store.state.nativeChainAddress,this.businessModel.name,this.businessModel.address,this.businessModel.maxCount).then((function(s){t.isShowLoading=!1,null!==s&&void 0!==s&&""!==s.trim()?(console.log("callAddBusiness is ok, res======>"+s),_["a"].show(t.$t("plsInputPwdAndSign").toString()),y["a"].getInstance().callNativeSignMsgToJs(s)):_["a"].fail(t.$t("assembleDataError").toString())})).catch((function(s){t.isShowLoading=!1,_["a"].show(t.$t("unknownErrorPlsRecheck").toString()+s.toString())}))}},{key:"nativeSignMsgToJsResult",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(s){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("nativeSignMsgToJsResult res======>"+s),this.isShowLoading=!0,this.loadHintInfo=this.$t("dataUploading").toString(),g["b"].getInstance().sendToChain(s,(function(t){if(t.isFinalized){console.log("status is isFinalized ===>");var s=t.asFinalized;g["b"].getInstance().loadApiPromise().then((function(t){t.query.system.events.at(s).then((function(t){e.isShowLoading=!1;var s=!1;t.forEach((function(t){var a=t.phase,n=t.event,i=n.data,o=n.method,r=n.section;if("contracts"==r&&"ContractExecution"==o){console.log("contracts===>"+i.toJSON()),_["a"].show(e.$t("successUpLoad").toString(),8e3),s=!0;var c=e;setTimeout((function(){c.$router.push({name:"business_process"})}),1e3)}console.log("forEach  =>"+a.toString()+"||section=>"+": ".concat(r,".").concat(o)+i.toString())})),s||_["a"].fail(e.$t("failUpLoad").toString(),8e3)}))}))}return t.isBroadcast&&console.log("status.isBroadcast===>"),t.isDropped?(e.isShowLoading=!1,console.log("status.isDropped===>"),void _["a"].show(e.$t("failUpLoad").toString(),8e3)):t.isInvalid?(e.isShowLoading=!1,console.log("status.isInvalid!===>"),void _["a"].show(e.$t("failUpLoad").toString(),8e3)):void 0})).catch((function(t){e.isShowLoading=!1,console.log("Error reason===>"+t),e.$router.replace({name:"business_entry"}),_["a"].show(e.$t("failUpLoad").toString(),8e3)}));case 4:case"end":return t.stop()}}),t,this)})));function s(s){return t.apply(this,arguments)}return s}()}]),s}(h["c"]);m=Object(d["a"])([Object(h["a"])({components:{CertShow:f["a"]}})],m);var C=m,S=C,w=(e("501d"),e("2877")),O=Object(w["a"])(S,a,n,!1,null,"462e0bc4",null);s["default"]=O.exports},a630:function(t,s,e){var a=e("23e7"),n=e("4df4"),i=e("1c7e"),o=!i((function(t){Array.from(t)}));a({target:"Array",stat:!0,forced:o},{from:n})},a866:function(t,s,e){},adba:function(t,s,e){},b650:function(t,s,e){"use strict";var a=e("c31d"),n=e("2638"),i=e.n(n),o=e("d282"),r=e("ba31"),c=e("b1d2"),l=e("48f4"),u=e("ad06"),d=e("543e"),h=Object(o["a"])("button"),p=h[0],b=h[1];function f(t,s,e,a){var n,o=s.tag,h=s.icon,p=s.type,f=s.color,g=s.plain,v=s.disabled,_=s.loading,y=s.hairline,m=s.loadingText,C={};function S(t){_||v||(Object(r["a"])(a,"click",t),Object(l["a"])(a))}function w(t){Object(r["a"])(a,"touchstart",t)}f&&(C.color=g?f:c["f"],g||(C.background=f),-1!==f.indexOf("gradient")?C.border=0:C.borderColor=f);var O=[b([p,s.size,{plain:g,loading:_,disabled:v,hairline:y,block:s.block,round:s.round,square:s.square}]),(n={},n[c["b"]]=y,n)];function T(){var a,n=[];return _?n.push(t(d["a"],{class:b("loading"),attrs:{size:s.loadingSize,type:s.loadingType,color:"currentColor"}})):h&&n.push(t(u["a"],{attrs:{name:h},class:b("icon")})),a=_?m:e.default?e.default():s.text,a&&n.push(t("span",{class:b("text")},[a])),n}return t(o,i()([{style:C,class:O,attrs:{type:s.nativeType,disabled:v},on:{click:S,touchstart:w}},Object(r["b"])(a)]),[T()])}f.props=Object(a["a"])({},l["c"],{text:String,icon:String,color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,nativeType:String,loadingText:String,loadingType:String,tag:{type:String,default:"button"},type:{type:String,default:"default"},size:{type:String,default:"normal"},loadingSize:{type:String,default:"20px"}}),s["a"]=p(f)},c5b7:function(t,s,e){"use strict";var a=e("a866"),n=e.n(a);n.a},c7fe:function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"cert_detail_cls"},t._l(t.certMap,(function(s){return e("div",{staticClass:"item_cert_row"},[e("div",{staticClass:"item_group"},[e("span",{staticClass:"item_cert_key"},[t._v(t._s(s.key))]),e("span",{staticClass:"item_cert_value"},[t._v(t._s(s.value))])]),e("van-divider",{staticClass:"divider_line"})],1)})),0)},n=[];e("a4d3"),e("e01a"),e("d28b"),e("d81d"),e("d3b7"),e("3ca3"),e("ddb0");function i(t){if(Array.isArray(t)){for(var s=0,e=new Array(t.length);s<t.length;s++)e[s]=t[s];return e}}e("a630"),e("e260"),e("25f0");function o(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function c(t){return i(t)||o(t)||r()}var l=e("276c"),u=e("e954"),d=e("e1a7"),h=e("f20d"),p=e("920b"),b=e("9ab4"),f=e("60a3"),g=e("9ed2");e("eeb2");f["c"].use(g["a"]);var v=function(t){function s(){return Object(l["a"])(this,s),Object(d["a"])(this,Object(h["a"])(s).apply(this,arguments))}return Object(p["a"])(s,t),Object(u["a"])(s,[{key:"certMap",get:function(){this.certOwn||(this.certOwn=this.$store.state.nowCertOwn);var t=[];if(this.certOwn&&this.certOwn.certGia&&(t.push.apply(t,c(this.certOwn.certGia.toCert().map)),this.certOwn.certGia.toCert().i18n)){var s=!0,e=!1,a=void 0;try{for(var n,i=this.certOwn.certGia.toCert().map.keys()[Symbol.iterator]();!(s=(n=i.next()).done);s=!0){var o=n.value,r=this.certOwn.certGia.toCert().map[o],l=this.$t(r.key);l&&(r.key=l,t[o]=r)}}catch(u){e=!0,a=u}finally{try{s||null==i.return||i.return()}finally{if(e)throw a}}}return t}}]),s}(f["c"]);v=Object(b["a"])([Object(f["a"])({name:"CertCard"})],v);var _=v,y=_,m=(e("c5b7"),e("2877")),C=Object(m["a"])(y,a,n,!1,null,null,null);s["a"]=C.exports},dfda:function(t,s,e){}}]);
//# sourceMappingURL=chunk-20898408.2092adae.js.map